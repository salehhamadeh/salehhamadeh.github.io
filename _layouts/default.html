<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>{{ page.title }}</title>
        <meta name="description" content="Saleh Hamadeh's official blog. I write about technology, programming, hacks, and my personal life." />
        <meta name="author" content="Saleh Hamadeh" />
        <meta name="keywords" content="Saleh Hamadeh, Blog, Technology, Programming" />

        <meta name="viewport" content="width=device-width">

        <!-- RSS -->
        <link rel="alternate" type="application/rss+xml" title="{{ site.name }}" href="{{ site.url }}/blog/feed.xml">

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins and for endpage-box) -->
        <script src="https://code.jquery.com/jquery.js"></script>
        <!-- Twitter Bootstrap -->
        <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
        <!-- Font Awesome -->
        <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <!-- AddThis Smart Layers BEGIN -->
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51fee1032ce6a513"></script>
        <script type="text/javascript">
          addthis.layers({
            'theme' : 'transparent',
            'share' : {
              'position' : 'left',
              'numPreferredServices' : 5
            }   
          });
        </script>
        <!-- AddThis Smart Layers END -->

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/stylesheets/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/stylesheets/style.css">

        <!-- Related article box code -->
        {% if page.path contains '_post' %}
          <link rel="stylesheet" href="/stylesheets/endpage-box.css">
          <script src="/js/jquery.endpage-box.min.js"></script>
          <script type="text/javascript">
            $(window).load( function() {
              $("#endpage-box").endpage_box({
                animation: "fade",
                from: "90%",
                to: "1000%",
              });
            });
          </script>
        {% endif %}
    </head>
    <body>
      <div id="wrap">
        {% include header.html %}

        <div class="container">
          <div class="row">
            <h1>Saleh Hamadeh's Blog</h1>
            <div class="col-md-8 col-md-offset-1">
              {{ content }}
            </div>
          </div>
          {% if page.path contains '_post' %}
            <div id="endpage-box" class="endpage-box"></div>
            <script>
              var related_posts = [{}
                {% for post in site.related_posts %}
                  , {
                    title: "{{ post.title }}",
                    date: "{{ post.date | date_to_string}}",
                    url: "{{ post.url }}"
                  }
                {% endfor %}
              ];  //The first blank element is a hack to fix liquid's for loop comma problem

              var post_index = function (min, max) {
                  return Math.floor(Math.random() * (max - min + 1)) + min;
              }(1, related_posts.length); //Get a random integer between 1 and related_posts.length
              $("#endpage-box").html('Related Post<br /><a href="' + related_posts[post_index].url + '">' + related_posts[post_index].title + '</a>');
            </script>
          {% endif %}
        </div>

        {% include footer.html %}

        <script src="/bootstrap/js/bootstrap.min.js"></script>

        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-46641204-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
      </div>
    </body>
</html>
